<div class="container my-5">
    <h1 class="mb-3">Buscar Despesas</h1>

    <div class="row">
        <div class="col-6">
            <form #form="ngForm">
                <div class="mb-4">
                    <label for="descricao" class="form-label">Descrição</label>
                    <input type="text" class="form-control" id="descricao" name="descricao"
                        placeholder="Digite uma descricão" [(ngModel)]="filtro.descricao">

                </div>
                <div class="mb-3 input-group">
                    <span class="input-group-text">R$</span>
                    <input type="number" step="0.01" name="valor" class="form-control" id="valor" name="valor"
                        [(ngModel)]="filtro.valor">

                </div>
                <div class="mb-3">
                    <label for="dataInicio" class="form-label">Data Inicio</label>
                    <input type="date" class="form-control" id="dataInicio" name="dataInicio" [(ngModel)]="filtro.dataInicio">
                    <label for="dataFim" class="form-label">Data Fim</label>
                    <input type="date" class="form-control" id="dataFim" name="dataFim" [(ngModel)]="filtro.dataFim">

                </div>
                <div class="mb-3">
                    <label for="categoria" class="form-label">Categoria</label>
                    <select type="select" name="categoria" class="form-select" id="categoria" name="categoria"
                        [(ngModel)]="filtro.categoria">

                        <option value="" selected>Selecione uma categoria</option>
                        <option value="outros">Outros</option>
                        <option value="moradia">Moraria</option>
                        <option value="lazer">Lazer</option>
                        <option value="saude">Saúde</option>
                        <option value="alimentacao">Alimentação</option>
                        <option value="transporte">Transporte</option>
                        <option value="imprevisto">Imprevisto</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary" (click)="aplicarFiltro()">Enviar</button>
            </form>
            <div class="container my-5">
                <table class="table" *ngIf="despesasFiltradas && despesasFiltradas.length > 0">
                    <thead>
                        <tr>
                            <th>Descrição</th>
                            <th>Valor</th>
                            <th>Data</th>
                            <th>Categoria</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let despesas of despesasFiltradas">
                            <td>{{despesas.descricao}}</td>
                            <td>{{despesas.valor}}</td>
                            <td>{{despesas.data | date: 'dd-MM-yyyy'}}</td>
                            <td>{{despesas.categoria}}</td>
                            <td><button type="button" class="btn btn-secondary"
                                    [routerLink]="['/despesas', 'edit', despesas.id]">Editar</button></td>

                        </tr>
                    </tbody>
                </table>
                <p *ngIf="!despesasFiltradas || despesasFiltradas.length <= 0">Nenhuma despesa encontrada.</p>
            </div>
        </div>
    </div>

</div>